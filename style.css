
:root{
  --bg-fallback:#001f3f;
  --card:#ffffff;
  --text:#111;
  --muted:#666;
  --brand:#0d6efd;
  --danger:#dc3545;
  --wa:#25d366;
  --shadow:0 8px 24px rgba(0,0,0,.12);
  --radius:14px;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,Helvetica,sans-serif;
  color:var(--text);
  background:var(--bg-fallback) no-repeat center/cover fixed;
  transition:background-image .8s ease, background-color .8s ease, color .2s ease;
}

.hidden{display:none}

#intro-screen{
  position:fixed; inset:0;
  background:#000 url('background_intro.jpg') center/cover no-repeat;
  display:grid; place-items:center;
  z-index:30; animation:fadeIn .6s ease;
}
.intro-content{
  text-align:center; color:#fff; padding:16px 22px;
  background:rgba(0,0,0,.35); border-radius:16px;
  backdrop-filter: blur(4px);
}
#start-btn{
  margin-top:10px; padding:12px 16px; border:0; border-radius:12px;
  background:#0d6efd; color:#fff; font-size:16px; box-shadow:var(--shadow);
}

#main-content{max-width:960px;margin-inline:auto;padding:16px}
#calculator, #history{
  background:var(--card); border-radius:var(--radius);
  padding:16px; margin:14px 0; box-shadow:var(--shadow);
}

#calculator h2, #history h2{margin:6px 0 14px}

#calculator label{display:flex;flex-direction:column;gap:6px;color:var(--muted);margin-bottom:10px}
#calculator input, #calculator select{
  padding:12px 10px; border:1px solid #ddd; border-radius:10px; font-size:16px;
  background:#fff;
}
#calculate-btn, #share-btn, #clear-history{
  border:0; border-radius:12px; padding:12px 14px; font-size:16px; cursor:pointer;
  box-shadow:var(--shadow); transition:transform .08s ease, filter .2s ease, background .2s;
  margin:6px 4px 0;
}
#calculate-btn{background:#0d6efd;color:#fff}
#share-btn{background:#25d366;color:#fff}
#clear-history{background:#dc3545;color:#fff}
#calculate-btn:active, #share-btn:active, #clear-history:active{transform:translateY(1px)}

#result{font-weight:700;margin-top:12px}

#history table{width:100%;border-collapse:collapse;border-radius:10px;overflow:hidden}
#history th,#history td{padding:10px;border-bottom:1px solid #eee;text-align:center;font-size:15px}
#history thead th{background:#f7f7f9}
#history .del{background:#dc3545;color:#fff;border:0;border-radius:10px;padding:6px 10px;cursor:pointer}

#compass-popup{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;
  background:rgba(0,0,0,.5);z-index:50}
#compass-popup.hidden{display:none}
.compass-content{background:#fff;border-radius:16px;padding:18px 16px;min-width:280px;box-shadow:var(--shadow);text-align:center;position:relative}
#close-compass{position:absolute;right:12px;top:6px;cursor:pointer;font-size:22px}
.compass-img{width:180px;height:180px;object-fit:contain;margin:8px auto}

#loading{position:fixed;inset:0;display:grid;place-items:center;background:rgba(255,255,255,.35);z-index:60}
#loading.hidden{display:none}
.spinner{width:54px;height:54px;border:6px solid rgba(0,0,0,.1);border-top-color:#0d6efd;border-radius:50%;animation:spin 1s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}

@keyframes fadeIn{from{opacity:0}to{opacity:1}}

/* רקעים לפי שעה – נטענים ע״י JS באמצעות הוספת מחלקה לגוף */
body.morning{background-image:url('background_morning.jpg')}
body.noon{background-image:url('background_noon.jpg')}
body.sunset{background-image:url('background_evening.jpg')}
body.night{background-image:url('background_night.jpg')}

/* רספונסיביות */
@media (max-width:680px){
  #main-content{padding:12px}
}
